Spotifyify
=========

A simple bit javascript for turning selected text into a spotify album link.  Intended to be used as a bookmarklet.  It needs to be loaded by a bookmarklet as an external script because it makes spotify metadata API requests.  

Takes selected text on a page and makes a spotify album search request.  If it finds any results, inserts the best matching result as a link into the page and opens the matching album in the Spotify app.

Definitely not perfect.  Just wrote it for my own selfish needs.  Feel free to improve it!

How to use
----------
Create a bookmarklet with the following snippet: `javascript:(function()%7Bfunction%20callback()%7BspotifyifySelection()%7Dvar%20s%3Ddocument.createElement(%22script%22)%3Bs.src%3D%22https%3A%2F%2Fraw.github.com%2Frickychang%2Fspotifyify%2Fmaster%2Fspotifyify.js%22%3Bif(s.addEventListener)%7Bs.addEventListener(%22load%22%2Ccallback%2Cfalse)%7Delse%20if(s.readyState)%7Bs.onreadystatechange%3Dcallback%7Ddocument.body.appendChild(s)%3B%7D)();`. Select text on a page, and click the bookmarklet.  The album you intended to find just might open up in spotify and your selected text is now a link to that album.  Currently, it just opens the first (best?) result from the spotify API.  If spotify doesn't return any matches for your query, no action is taken.  Note: bookmarklet generated by mrcoles' [bookmarklet creator](http://mrcoles.com/bookmarklet/).

Issues
------
I wrote this just to help automate listening to albums I'm reading reviews of and it does a pretty good job, but the spotify metadata API kind of sucks.  You have to make different types of API calls to find matching artists, albums, and tracks so you can't really just highlight arbitrary text and ask spotify find the best matching spotify URI for you.  That's why I'm just doing an album search and opening up the best match found right now.  In particular if you select the artist name and an album title, it often doesn't return anything.  Some more complicated logic for parsing the results you get back and figuring out how good of a match was found before opening the album might help.